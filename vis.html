<html>

<body>
   <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg"
      xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
      xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:version="1.0beta2 (2b71d25d45, 2019-12-03)"
      sodipodi:docname="rysunek2.svg" id="svg8" version="1.1" viewBox="0 0 233.8027 193.90619" height="193.90619mm"
      width="233.8027mm">
      <sodipodi:namedview inkscape:current-layer="svg8" inkscape:window-maximized="1" inkscape:window-y="0"
         inkscape:window-x="0" inkscape:cy="549.9818" inkscape:cx="484.14896" inkscape:zoom="0.30557734"
         showgrid="false" id="namedview1080" inkscape:window-height="921" inkscape:window-width="1076"
         inkscape:pageshadow="2" inkscape:pageopacity="0" guidetolerance="10" gridtolerance="10" objecttolerance="10"
         borderopacity="1" inkscape:document-rotation="0" bordercolor="#666666" pagecolor="#ffffff" />
      <defs id="defs2" />
      <metadata id="metadata5">
         <rdf:RDF>
            <cc:Work rdf:about="">
               <dc:format>image/svg+xml</dc:format>
               <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
               <dc:title></dc:title>
            </cc:Work>
         </rdf:RDF>
      </metadata>
      <path d="m 205.44,28.366184 17.41,-17.41 4.84,4.84 -17.41,17.41 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="40919" inkscape:connector-curvature="0" />
      <path d="m 222.85,10.956184 -17.41,17.41 -4.85,-4.84 17.42,-17.4099996 4.84,4.8399996" class="path"
         style="fill:#cccccc" id="40849" inkscape:connector-curvature="0" />
      <path d="m 135.76,98.046183 17.42,-17.42 4.84,4.84 -17.42,17.419997 -4.84,-4.839997" class="path"
         style="fill:#cccccc" id="303319" inkscape:connector-curvature="0" />
      <path d="m 153.18,80.626183 -17.42,17.42 -4.84,-4.84 17.41,-17.42 4.85,4.84" class="path" style="fill:#cccccc"
         id="287129" inkscape:connector-curvature="0" />
      <path d="m 118.35,115.45618 17.41,-17.409997 4.84,4.839997 -17.41,17.41 -4.84,-4.84" class="path"
         style="fill:#cccccc" id="37019" inkscape:connector-curvature="0" />
      <path d="m 135.76,98.046183 -17.41,17.409997 -4.84,-4.84 17.41,-17.409997 4.84,4.84" class="path"
         style="fill:#cccccc" id="303329" inkscape:connector-curvature="0" />
      <path d="m 100.93,132.87618 17.42,-17.42 4.84,4.84 -17.42,17.42 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="36919" inkscape:connector-curvature="0" />
      <path d="m 118.35,115.45618 -17.42,17.42 -4.84,-4.84 17.42,-17.42 4.84,4.84" class="path" style="fill:#cccccc"
         id="37029" inkscape:connector-curvature="0" />
      <path d="m 83.52,150.28618 17.41,-17.41 4.84,4.84 -17.41,17.41 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="36819" inkscape:connector-curvature="0" />
      <path d="m 100.93,132.87618 -17.41,17.41 -4.84,-4.84 17.41,-17.41 4.84,4.84" class="path" style="fill:#cccccc"
         id="36929" inkscape:connector-curvature="0" />
      <path d="m 66.1,167.70618 17.42,-17.42 4.84,4.84 -17.42,17.42 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="36719" inkscape:connector-curvature="0" />
      <path d="m 83.52,150.28618 -17.42,17.42 -4.84,-4.85 17.42,-17.41 4.84,4.84" class="path" style="fill:#cccccc"
         id="36829" inkscape:connector-curvature="0" />
      <path d="m 46.74,187.05618 19.36,-19.35 4.84,4.84 -21.36,21.36 -2.84,-6.85" class="path" style="fill:#cccccc"
         id="285919" inkscape:connector-curvature="0" />
      <path d="m 66.1,167.70618 -19.36,19.35 -2.83,-6.84 17.35,-17.36 4.84,4.85" class="path" style="fill:#cccccc"
         id="36729" inkscape:connector-curvature="0" />
      <path d="m 19.36,187.05618 h 27.38 l 2.84,6.85 H 16.53 l 2.83,-6.85" class="path" style="fill:#cccccc" id="36519"
         inkscape:connector-curvature="0" />
      <path d="M 46.74,187.05618 H 19.36 l 2.84,-6.84 h 21.71 l 2.83,6.84" class="path" style="fill:#cccccc" id="285929"
         inkscape:connector-curvature="0" />
      <path d="m 0,167.70618 19.36,19.35 -2.83,6.85 -16.53,-16.52 v -9.68" class="path" style="fill:#cccccc"
         id="path589" inkscape:connector-curvature="0" />
      <path d="M 19.36,187.05618 0,167.70618 h 9.6800003 l 12.5199997,12.51 -2.84,6.84" class="path"
         style="fill:#cccccc" id="path591" inkscape:connector-curvature="0" />
      <path d="M 19.36,148.34618 0,167.70618 v -9.69 l 14.52,-14.51 4.84,4.84" class="path" style="fill:#cccccc"
         id="12929" inkscape:connector-curvature="0" />
      <path d="m 0,167.70618 19.36,-19.36 4.84,4.84 -14.5199997,14.52 H 0" class="path" style="fill:#cccccc" id="12529"
         inkscape:connector-curvature="0" />
      <path d="m 38.72,128.98618 -19.36,19.36 -4.84,-4.84 19.35,-19.36 4.85,4.84" class="path" style="fill:#cccccc"
         id="13029" inkscape:connector-curvature="0" />
      <path d="m 19.36,148.34618 19.36,-19.36 4.84,4.84 -19.36,19.36 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="12919" inkscape:connector-curvature="0" />
      <path d="m 58.07,109.62618 -19.35,19.36 -4.85,-4.84 19.36,-19.36 4.84,4.84" class="path" style="fill:#cccccc"
         id="304029" inkscape:connector-curvature="0" />
      <path d="m 38.72,128.98618 19.35,-19.36 4.84,4.84 -19.35,19.36 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="13019" inkscape:connector-curvature="0" />
      <path d="m 77.43,90.266193 -19.36,19.359987 -4.84,-4.84 19.36,-19.359987 4.84,4.84" class="path"
         style="fill:#cccccc" id="281129" inkscape:connector-curvature="0" />
      <path d="m 58.07,109.62618 19.36,-19.359987 4.84,4.84 -19.36,19.359987 -4.84,-4.84" class="path"
         style="fill:#cccccc" id="304019" inkscape:connector-curvature="0" />
      <path d="m 96.79,70.906193 -19.36,19.36 -4.84,-4.84 19.36,-19.36 4.84,4.84" class="path" style="fill:#cccccc"
         id="11329" inkscape:connector-curvature="0" />
      <path d="m 77.43,90.266193 19.36,-19.36 4.84,4.84 -19.36,19.36 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="281119" inkscape:connector-curvature="0" />
      <path d="m 116.15,51.546193 -19.36,19.36 -4.84,-4.84 19.36,-19.360001 4.84,4.840001" class="path"
         style="fill:#cccccc" id="11229" inkscape:connector-curvature="0" />
      <path d="m 96.79,70.906193 19.36,-19.36 4.84,4.84 -19.36,19.36 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="11319" inkscape:connector-curvature="0" />
      <path d="m 135.51,32.186192 -19.36,19.360001 -4.84,-4.840001 19.36,-19.36 4.84,4.84" class="path"
         style="fill:#cccccc" id="40729" inkscape:connector-curvature="0" />
      <path d="m 116.15,51.546193 19.36,-19.360001 4.84,4.84 -19.36,19.360001 -4.84,-4.84" class="path"
         style="fill:#cccccc" id="11219" inkscape:connector-curvature="0" />
      <path d="m 154.87,12.826192 -19.36,19.36 -4.84,-4.84 19.36,-19.3599996 4.84,4.8399996" class="path"
         style="fill:#cccccc" id="40829" inkscape:connector-curvature="0" />
      <path d="m 135.51,32.186192 19.36,-19.36 4.84,4.84 -19.36,19.36 -4.84,-4.84" class="path" style="fill:#cccccc"
         id="40719" inkscape:connector-curvature="0" />
      <g transform="translate(222.85,10.952704)" id="g1035">
         <circle class="dot" fill="#2F5DA6" r="10.952704" id="circle1033" cx="0" cy="0" />
      </g>
      <g transform="rotate(180,77.433155,6.4114627)" id="g1043">
         <circle class="dot" fill="#E87200" r="10.952704" id="circle1041" cx="0" cy="0" />
      </g>
      <path inkscape:connector-curvature="0" id="287119" style="fill:#cccccc;stroke-width:1" class="path"
         d="m 153.18,80.626183 17.42,-17.42 4.84,4.84 -17.42,17.42 -4.84,-4.84" />
      <path inkscape:connector-curvature="0" id="93029" style="fill:#cccccc;stroke-width:1" class="path"
         d="m 170.6,63.206183 -17.42,17.42 -4.84,-4.84 17.41,-17.42 4.85,4.84" />
      <path inkscape:connector-curvature="0" id="93019" style="fill:#cccccc;stroke-width:1" class="path"
         d="m 170.6,63.206183 17.42,-17.419999 4.84,4.839999 -17.42,17.42 -4.84,-4.84" />
      <path inkscape:connector-curvature="0" id="304129" style="fill:#cccccc;stroke-width:1" class="path"
         d="m 188.02,45.786184 -17.42,17.419999 -4.84,-4.84 17.41,-17.419999 4.85,4.84" />
      <path inkscape:connector-curvature="0" id="304119" style="fill:#cccccc;stroke-width:1" class="path"
         d="m 188.02,45.786184 17.42,-17.42 4.84,4.839999 -17.42,17.42 -4.84,-4.839999" />
      <path inkscape:connector-curvature="0" id="40929" style="fill:#cccccc;stroke-width:1" class="path"
         d="m 205.44,28.366184 -17.42,17.42 -4.84,-4.84 17.41,-17.42 4.85,4.84" />
   </svg>
   <style>
      .green {
         fill: red !important;
      }
   </style>
   <script>
      function update() {
         fetch('stats.json')
            .then((response) => response.json())
            .then((data) => {
               for (const stop of data) {
                  var color, opacity;
                  if (!stop.time) {
                     color = "#cccccc";
                  } else if (stop.time && stop.time <= 60) {
                     color = "green";
                  } else if (stop.time <= 120) {
                     color = "yellow";
                  } else if (stop.time >= 180) {
                     color = "red";
                  }
                  document.getElementById(stop.stop_id).style.fill = color;

                  x = stop.update_secs / 300;
                  if (x > 1 || stop.update_secs === undefined) x = 1;
                  document.getElementById(stop.stop_id).style.opacity = 1 - x;

                  if (stop.active_trips > 0) {
                     document.getElementById(stop.stop_id).style.stroke = "red";
                  } else {
                     document.getElementById(stop.stop_id).style.stroke = null;
                  }


                  if (x == 1) {
                     document.getElementById(stop.stop_id).style.fill = "#cccccc";
                     document.getElementById(stop.stop_id).style.opacity = 1;
                  }
               }
            });
         setTimeout(update, 5000);
      }
      update();
   </script>
</body>

</html>